import"./chunk-B5Qt9EMX.js";import{r as l,j as e,a as r,R as n}from"./chunk-BUXyNiFG.js";const i=()=>{const[s,t]=l.useState({responseTone:"friendly",apiKey:"",apiService:"clearBureau",apiType:"openai",dbConfig:{type:"clearBureau"}});l.useEffect(()=>{chrome.storage.sync.get(["settings"],a=>{a.settings&&t(a.settings)})},[]),l.useEffect(()=>{chrome.storage.sync.set({settings:s})},[s]);const o=()=>{window.confirm("Are you sure you want to delete all chat history? This action cannot be undone.")&&chrome.storage.local.remove(["chatHistory"],()=>{console.log("Chat history deleted")})};return e.jsxs("main",{className:"p-4 min-w-[300px]",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Settings"}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"font-medium block mb-2",children:"Preferred Response Tone"}),e.jsxs("select",{value:s.responseTone,onChange:a=>t({...s,responseTone:a.target.value}),className:"w-full p-2 border rounded",children:[e.jsx("option",{value:"formal",children:"Formal"}),e.jsx("option",{value:"friendly",children:"Friendly"}),e.jsx("option",{value:"simplified",children:"Simplified"})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"font-medium block mb-2",children:"API Service"}),e.jsxs("select",{value:s.apiService,onChange:a=>t({...s,apiService:a.target.value}),className:"w-full p-2 border rounded mb-2",children:[e.jsx("option",{value:"clearBureau",children:"Clear Bureau API"}),e.jsx("option",{value:"custom",children:"Custom API"})]}),s.apiService==="custom"&&e.jsxs(e.Fragment,{children:[e.jsx("label",{className:"font-medium block mb-2",children:"API Type"}),e.jsxs("select",{value:s.apiType,onChange:a=>t({...s,apiType:a.target.value}),className:"w-full p-2 border rounded mb-2",children:[e.jsx("option",{value:"llama",children:"Llama"}),e.jsx("option",{value:"openai",children:"OpenAI"})]}),e.jsx("label",{className:"font-medium block mb-2",children:"API Key"}),e.jsx("input",{type:"password",value:s.apiKey,onChange:a=>t({...s,apiKey:a.target.value}),className:"w-full p-2 border rounded",placeholder:"Enter your API key"})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("h4",{className:"font-medium text-lg mb-3",children:"Database Configuration"}),e.jsx("label",{className:"font-medium block mb-2",children:"Database Service"}),e.jsxs("select",{value:s.dbConfig.type,onChange:a=>t({...s,dbConfig:{...s.dbConfig,type:a.target.value}}),className:"w-full p-2 border rounded mb-2",children:[e.jsx("option",{value:"clearBureau",children:"Clear Bureau Database"}),e.jsx("option",{value:"custom",children:"Custom PostgreSQL"})]}),s.dbConfig.type==="custom"&&e.jsxs(e.Fragment,{children:[e.jsx("label",{className:"font-medium block mb-2",children:"PostgreSQL Connection URL"}),e.jsx("input",{type:"password",value:s.dbConfig.connectionString||"",onChange:a=>t({...s,dbConfig:{...s.dbConfig,connectionString:a.target.value}}),className:"w-full p-2 border rounded",placeholder:"postgresql://user:password@localhost:5432/dbname"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Format: postgresql://user:password@host:port/database"})]})]}),e.jsx("div",{className:"text-sm text-gray-500 mt-4",children:"Settings are automatically saved"}),e.jsxs("div",{className:"mt-8 pt-4 border-t",children:[e.jsx("button",{onClick:o,className:"w-full p-2 bg-red-50 text-red-600 border border-red-200 rounded hover:bg-red-100 transition-colors font-medium",children:"Delete All Chat History"}),e.jsx("p",{className:"text-xs text-red-500 mt-1",children:"Warning: This action cannot be undone"})]})]})};r.createRoot(document.getElementById("app")).render(e.jsx(n.StrictMode,{children:e.jsx(i,{})}));
